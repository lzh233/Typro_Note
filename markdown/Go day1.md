# Go day1

## 第一个Go程序

```go
//第一个go语言程序
//main: 定义一个包，包的名字为main，main是可执行程序的包名所有Go的源程序文件的头部必须
//要有一个包声明的语句，Go通过包名来管理命名空间
package main

//import 引用一个外部包fmt 可以是标准库的包，也可以是第三方库的包，fmt是标准的输出输入包
import "fmt"

//func关键字声明了一个函数main，main代表Go程序的入口函数
func main() {
	//调用fmt包内的Println函数(Println末尾自动加换行符)
	fmt.Println("Hello world@")
}
```

## Go词法单元

token 、关键字、标识符、操作符、 分隔符和字面量  

### token

`token`**是构成源程序的基本的不可分割的单元**，编译器编译程序的第一步就是将源程序分割成一个又一个的独立的`token`，这个过程就是词法分析

**Go 语言的 token 可以分为关键字、标识符 、操作符、分隔符和字面常量等**  

<img src="https://aironi.oss-cn-beijing.aliyuncs.com/Typro_imgimage-20210825224032504.png" alt="image-20210825224032504" style="zoom:90%;" />

```go
sum := a + b
```

:=和＋既是分隔符，也是 token，所以这个简单的语句被分割为 5 个 token：sum 、:=、“ a 、＋、b 

#### 标识符

标识符用来标识变量、类型 、 常量等语法对象的符号名称，其在语法分析时作为一个 token 存在 。编程语言 的标识符总体上分为两类 ： **一类是语言设计者预留的标识符，** **一类是编程者可 以 自定义的标识符** 。 前者一般由语言设计者确定 ， 包括语言的预声明标识符及用于后续语言扩展的保留字 ； 后者是用户在编程过程中自行定义的变量名 、 常量名 、 函数名等一切符合语言规范的标识符。  

Go 的标识符构成规则是 ： 开头一个字符必须是字母或下画钱 ， 后面w任意多个字符、数字或下画线 ， 并且区分大小写   

- 关键字

  Go语言中共有25个关键字

  ![image-20210825224522866](https://aironi.oss-cn-beijing.aliyuncs.com/Typro_imgimage-20210825224522866.png)

- 内置数据类型标识符

  Go共有20个

  <img src="https://aironi.oss-cn-beijing.aliyuncs.com/Typro_imgimage-20210825224633049.png" alt="image-20210825224633049" style="zoom:80%;" />

  - 内置函数

    内置函数也是高级语言的一种语法糖，由于其是语言内置的，不需要用 import 引入，内置数具有全局可见性 。   

    Go中共有15个

    ![image-20210825224758098](https://aironi.oss-cn-beijing.aliyuncs.com/Typro_imgimage-20210825224758098.png)
    
    
    
  - 常量标识符(4个)

    ![image-20210825225016142](https://aironi.oss-cn-beijing.aliyuncs.com/Typro_imgimage-20210825225016142.png)

  - 一个空白标识符

    空白标识符有特殊的含义，用来声明－个匿名的变量，该变量在赋值表达式的左端，空白标识符引用通常被用**作占位，**比如忽略函数多个返回值中的一个和强制编译器做类型检查  

    ![image-20210825225051699](https://aironi.oss-cn-beijing.aliyuncs.com/Typro_imgimage-20210825225051699.png)

#### 操作符(operators )和分隔符(delimiters)

操作符就是语言所使用的符号集合 ， 包括运算符、显式的分隔符，以及其他语法辅助符号。**操作符不但自身是一个 token，具备语法含义，同时其自身也是分隔其他 token 的分隔符** , 还有一类分隔符本身没有什么含义，仅仅起到分隔 toke 空格、制表符、回车和换行。

Go语言中共有47个操作符

![image-20210825225515193](https://aironi.oss-cn-beijing.aliyuncs.com/Typro_imgimage-20210825225515193.png)

#### 字面常量

编程语言源程序中表示**固定值的符号**叫作字面常量，简称字面量。 一般使用裸字符序列来表示不同类型的值。字面量可以被编程语言编译器直接转换为某个类型的值。 Go 的字面量可以出现在两个地方： 一是用于常量和变量的初始化， 二是用在表达式里或作为函数调用实参。

- 整型字面量

  整型字面量使用特定**字符序列**来表示具体的整型数值  

  ![image-20210825225731362](https://aironi.oss-cn-beijing.aliyuncs.com/Typro_imgimage-20210825225731362.png)

- 浮点型字面量

  浮点型字面量使用特定**字符序列**来表示1个浮点数值  

  ![image-20210825225812932](https://aironi.oss-cn-beijing.aliyuncs.com/Typro_imgimage-20210825225812932.png)

- 复数类型字面量   

  复数类型字面量使用特定的字符序列来表示复数类型的常量值  

![image-20210825225856911](https://aironi.oss-cn-beijing.aliyuncs.com/Typro_imgimage-20210825225856911.png)

- **字符型**字面量：**（与字符串不同！）**

  Rune 字符常量也有多种表现形式，但是使用`' '`（单引号）将其括住。  

![image-20210825230012223](https://aironi.oss-cn-beijing.aliyuncs.com/Typro_imgimage-20210825230012223.png)

- 字符串型字面量

  字符串字面量的基本表现形式就是使用`""`将字符序列包括在内，双引号里面可以是  `UTF- 8` 的字符字面量 ，也可以是其编码值  

  ![image-20210825230057593](https://aironi.oss-cn-beijing.aliyuncs.com/Typro_imgimage-20210825230057593.png)

## 小结

  从token组成的角度重新审视第一个go程序

  ```go
  package main
  
  import "fmt"
  
  func main() {
  	fmt.Println("Hello world@")
  }
  ```

  其中，

  - 关键字

    ```go
    package import func
    ```

  - 标识符

    ```go
    mian fmt Println
    ```

  - 字面量

    ```go
    "fmt" "Hello world@"
    ```

  - 操作符

    ```go
    {} () .
    ```

    

    ### Go语言程序的基本 组成

    ( 1 ）关键字引导程序的基本结构

    ( 2 ）内置类型标识符辅助声明变量和常量

    ( 3 ） 字面量辅助变量和常量的初始化

    ( 4 ）分隔符帮助 Go 编译器识别各个 token

    ( 5 ）操作符和变量、关键字一起构成丰富的语法单元  

  - 一个基本 的Go语言程序框架就出来了

  ![image-20210825231001729](https://aironi.oss-cn-beijing.aliyuncs.com/Typro_imgimage-20210825231001729.png)

  ## 变量与常量

  高级语言通过一个标识符来绑定一块特定的内存，后续对特定的内存的操作都可以使用该标识符来代替。这类绑定某个存储单元的标识符又可以分为两类，一类称之为“变量”，一类称之为“常量”。顾名思义，变量表示指向的内存可以被修改，常量表示指向的内存不能被修改。  

### 变量

  变量：使用一个名称来绑定一块内存地址 ， 该内存地址中存放的数据类型由定义变量时指定的类型决定，该内存地址里面存放的内容可以改变。
  Go 的基本类型变量声明有两种  

  - 显式的完整声明

```go
var varName dataType [ = value]
```
关键宇 var 用于变量声明

varName 是变量名标识符

dataType 是数据类型(内置数据类型标识符) value 是变量的初始值，初始值可以是字面量，也可以是其他变量名 ， 还可以是一个表达式；如果不指定初始值， 则 Go 默认将该变量初始化为类型的零值

  Go 的变量声明后就会立即为其分配空间 

```go
var a int = 1
var a float64  = 0.255
var b int = c
```

- 短类型声明

  **只能用于函数中**，此时 Go 编译器自动进行数据类型推断

  ```go
  varName := value
  ```

  ### 变量的属性

  - **自定义标识符来声明一个变量**  

  - **变量实际指向**的是地址里存放的值，变量的值具体怎么解析是由变量的类型来决定的。在初始化变量值时，我们可以使用字面量，也可以使用其他的变量名。  

  - 变量存储和生存期  

    Go 语言提供自动内存管理，通常程序员不需要特别关注变量的生存期和存放位置 

  - **类型信息**  

    类型决定了该变量存储的值怎么解析，以及支持哪些操作和运算，不同类型的变量支持的操作和运算集不一样

  - **可见性和作用域**  

    Go 内部使用统一的命名空间对变量进行管理，每个变量都有一个唯一 的名字，包名是这个名字的前缀  

### 常量

常量使用一个名称来绑定一块内存地址，该内存地址中存放的数据类型由定义常量时指定的类型决定，而且该内存地址里面存放的内容不可以改变   

Go中的常量一般分为布尔型、字符串型和数值型常量

预声明标识符` iota `用在常量声明中，其初始值为 `0`。一组多个常量同时声明时其值逐行增加， `iota `可以看作自增的枚举变量，专 门用来初始化常量  

```go
const (
c0 = iota // c0 = 0
c2 = iota // c2 = 1
c3 = iota // c3 = 2
)
//简写
const (
c0 = iota // c0 = 0
c2        // c2 = 1
c3        // c3 = 2
)
```

小例子

```go
//iota是逐行增加的
const(
	a = 1 << iota // a = 1 iota = 0
	b = 1 << iota // b = 2 <<表示左移iota位置 因为此时iota=1 所以 b=10 10为二进制 对应十进制为2
	c = 2         // c = 2 没有使用iota = 2
	d = 1 << iota // d = 8 iota = 3 << 三位 d = 1000 对应十进制8
)
```

**分别定义的`const`语句**，`iota`都是0

```go
const a = iota //a = 0
const b = iota // b = 0
```
